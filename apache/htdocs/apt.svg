<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="744.09448819"
   height="1052.3622047"
   id="svg2"
   onload="createBadge('den_south_windows', 'normal'); createBadge('den_south_windows', 'alert'); createBadge('den_east_windows', 'alert'); createBadge('den_east_windows', 'normal')"
   sodipodi:version="0.32"
   inkscape:version="0.46"
   sodipodi:docname="apt.svg"
   inkscape:output_extension="org.inkscape.output.svg.inkscape"
   inkscape:export-xdpi="90"
   inkscape:export-ydpi="90">
  <defs
     id="defs4">
    <inkscape:perspective
       sodipodi:type="inkscape:persp3d"
       inkscape:vp_x="0 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       id="perspective67" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     gridtolerance="10000"
     guidetolerance="10"
     objecttolerance="10"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1"
     inkscape:cx="3.0713"
     inkscape:cy="640"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:snap-global="true"
     inkscape:window-width="1680"
     inkscape:window-height="1001"
     inkscape:window-x="0"
     inkscape:window-y="22">
    <inkscape:grid
       type="xygrid"
       id="grid2385" />
  </sodipodi:namedview>
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 290,1042.3622 L 290,992.36218 L 380,992.36218 L 380,1042.3622 L 290,1042.3622 z"
       id="front_door"
       inkscape:label="Front Door" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 290,1002.3622 L 230,1002.3622"
       id="path2391" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.92582011px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 379.92857,1002.3622 L 439.92857,1002.3622"
       id="path2393" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.95742708px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 230,1002.4039 L 230,892.40385"
       id="path2395" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 440,1002.3622 L 440,812.36218"
       id="path2397" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 410,812.36218 L 470,812.36218"
       id="path2401" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 410,742.36218 L 470,742.36218"
       id="path2403" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.96844751px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 440,742.39106 L 440,592.32857"
       id="path2405" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.94868332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 440,522.31218 L 440,432.31218"
       id="path2407" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 230,602.36218 L 230,822.36218"
       id="path2411" />
    <path
       inkscape:label="Back Door"
       id="back_door"
       d="M 320,132.36218 L 320,82.362166 L 410,82.362166 L 410,132.36218 L 320,132.36218 z"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1.00024998px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 230,532.35921 L 230,432.30921"
       id="path3215" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 230,432.36218 L 60,432.36218 L 60,122.36218 L 320,122.36218"
       id="path3217" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 410,122.36218 L 680,122.36218"
       id="path3219" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 680,122.36218 L 680,432.36218 L 440,432.36218"
       id="path3221" />
    <rect
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.66574901;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.33149803,0.66574901,0.33287451,0.66574901;stroke-dashoffset:0"
       id="den_east_windows"
       width="29.834251"
       height="80.223137"
       x="59.832874"
       y="202.30617"
       inkscape:label="Den - East Windows" />
    <rect
       inkscape:label="Den - South Windows"
       y="-580.9848"
       x="118.72849"
       height="80.223137"
       width="29.834251"
       id="den_south_windows"
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.665749;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.331498,0.665749,0.3328745,0.665749;stroke-dashoffset:0"
       transform="matrix(-6.5451402e-3,0.9999786,-0.9999786,-6.5451402e-3,0,0)" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 440,482.36218 L 680,482.36218 L 680,622.36218 C 680,622.36218 440,622.36218 440,622.36218"
       id="bathroom"
       inkscape:label="Bathroom" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 440,632.36218 L 680,632.36218 L 680,992.36218 L 440,992.36218"
       id="kitchen"
       inkscape:label="Kitchen" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 230,962.36218 L 50,962.36218 L 50,732.36218 L 230,732.36218"
       id="north_bedroom"
       inkscape:label="North Bedroom" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 230,672.36218 L 50,672.36218 L 50,462.36218 L 50,452.36218 L 230,452.36218 L 230,452.36218"
       id="south_bedroom"
       inkscape:label="South Bedroom" />
    <rect
       inkscape:label="South Bedroom Windows"
       y="492.36218"
       x="50"
       height="80.223137"
       width="29.834251"
       id="south_bedroom_windows"
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.66574901;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.33149803,0.66574901,0.33287451,0.66574901;stroke-dashoffset:0" />
    <rect
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.66574901;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.33149803,0.66574901,0.33287451,0.66574901;stroke-dashoffset:0"
       id="north_bedroom_windows"
       width="29.834251"
       height="80.223137"
       x="50"
       y="842.13904"
       inkscape:label="North Bedroom Windows" />
    <rect
       inkscape:label="Kitchen - South Windows"
       y="662.36218"
       x="650.16577"
       height="80.223137"
       width="29.834251"
       id="kitchen_south_windows"
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.66574901;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.33149803,0.66574901,0.33287451,0.66574901;stroke-dashoffset:0" />
    <rect
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.66574901;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.33149803,0.66574901,0.33287451,0.66574901;stroke-dashoffset:0"
       id="kitchen_north_windows"
       width="29.834251"
       height="80.223137"
       x="650.16577"
       y="842.36218"
       inkscape:label="Kitchen - North Windows" />
    <rect
       inkscape:label="Den - East Windows"
       y="512.13904"
       x="650.16577"
       height="80.223137"
       width="29.834251"
       id="rect3259"
       style="fill:none;fill-opacity:0.76785714999999999;stroke:#000000;stroke-width:0.66574901;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:1.33149803,0.66574901,0.33287451,0.66574901;stroke-dashoffset:0" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 200,822.36218 L 260,822.36218"
       id="path3261" />
    <path
       id="path3267"
       d="M 200,892.36218 L 260,892.36218"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 200,602.36218 L 260,602.36218"
       id="path3269" />
    <path
       id="path3271"
       d="M 200,532.36218 L 260,532.36218"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 410,522.36218 L 470,522.36218"
       id="path3273" />
    <path
       id="path3275"
       d="M 410,592.36218 L 470,592.36218"
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    <text
       xml:space="preserve"
       style="font-size:18.12547874px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="402.9361"
       y="92.023323"
       id="text3277"
       transform="scale(0.8189884,1.2210185)"><tspan
         sodipodi:role="line"
         id="tspan3279"
         x="402.9361"
         y="92.023323">Back Door</tspan></text>
    <text
       transform="scale(0.8189884,1.2210185)"
       id="text3281"
       y="837.3028"
       x="366.30554"
       style="font-size:18.12547874px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       xml:space="preserve"><tspan
         y="837.3028"
         x="366.30554"
         id="tspan3283"
         sodipodi:role="line">Front Door</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:18.12547874px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="-1116.2377"
       y="148.25552"
       id="text3285"
       transform="matrix(-8.0502581e-3,-0.8189488,1.2209595,-1.2002018e-2,0,0)"><tspan
         sodipodi:role="line"
         id="tspan3287"
         x="-1116.2377"
         y="148.25552">North Bedroom</tspan></text>
    <text
       transform="matrix(-4.295411e-3,-0.8189771,1.2210017,-6.4039691e-3,0,0)"
       id="text3289"
       y="152.93236"
       x="-761.12207"
       style="font-size:18.12547874px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       xml:space="preserve"><tspan
         y="152.93236"
         x="-761.12207"
         id="tspan3291"
         sodipodi:role="line">South Bedroom</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:19.11533165px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="602.89313"
       y="-417.19034"
       id="text3293"
       transform="matrix(-1.4224842e-3,0.8637129,-1.1577882,-2.3587189e-3,0,0)"><tspan
         sodipodi:role="line"
         id="tspan3295"
         x="602.89313"
         y="-417.19034">Bathroom</tspan></text>
    <text
       transform="matrix(4.9164247e-3,0.9010032,-1.1098256,8.8717541e-3,0,0)"
       id="text3297"
       y="-428.7836"
       x="839.01984"
       style="font-size:19.94102669px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       xml:space="preserve"
       inkscape:transform-center-x="80.06936"
       inkscape:transform-center-y="111.8916"><tspan
         y="-428.7836"
         x="839.01984"
         id="tspan3299"
         sodipodi:role="line">Kitchen</tspan></text>
    <text
       transform="scale(0.7781854,1.2850408)"
       id="text3301"
       y="241.04301"
       x="408.22031"
       style="font-size:57.86774826px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       xml:space="preserve"><tspan
         y="241.04301"
         x="408.22031"
         sodipodi:role="line"
         id="tspan3305">Den</tspan></text>
  </g>
  
  <script type="text/ecmascript">
    var svgNS = "http://www.w3.org/2000/svg";

    ajaxSensorStatus = setInterval("loadXMLDoc('http://localhost/sensorStatus.json')", 5000);

    function createBadge(sensorId, sensorStatus)
    {
           
        var centerX = Math.abs(parseInt(document.getElementById(sensorId).getAttributeNS(null,"y")));
        var centerY = Math.abs(parseInt(document.getElementById(sensorId).getAttributeNS(null,"x")));
        var radius = 13;
       
        switch (sensorStatus)
        {
            case "normal":
                fillColor="green";
                break;
            case "alert":
                fillColor="red";
                break;
            default:
                fillColor="black";
        }
    
        //create a new circle element and set the attributes
        var circle = document.createElementNS(svgNS,"circle");
            circle.setAttributeNS(null,"id",sensorId + "_" + fillColor + "_badge");
        	circle.setAttributeNS(null,"cx",centerX);
        	circle.setAttributeNS(null,"cy",centerY);
        	circle.setAttributeNS(null,"r",radius);
        	circle.setAttributeNS(null,"fill",fillColor);
            circle.setAttributeNS(null,"style","visibility:hidden;");
            
        document.getElementById("layer1").appendChild(circle);
        document.getElementById('layer1').setAttribute("transform", "scale(0.79)"); 
    }
    
    var xmlhttp;
            
    function loadXMLDoc(url)
    {
        xmlhttp=null;
        xmlhttp=new XMLHttpRequest();
                
        if (xmlhttp!=null)
        {
            xmlhttp.onreadystatechange=state_Change;
            xmlhttp.open("GET",url,true);
            xmlhttp.send(null);
        }
        else
        {
            alert("Get Firefox, Tool!");
            window.location = "http://www.mozilla.com/firefox/";
        }
    }
    
    function badgeStatus(sensorId, sensorStatus)
    { 
        switch (sensorStatus)
        {
            case "normal":
                document.getElementById(sensorId + '_red_badge').style.visibility = 'hidden';
                document.getElementById(sensorId + '_green_badge').style.visibility = 'visible';
                break;
            case "alert":
                document.getElementById(sensorId + '_green_badge').style.visibility = 'hidden';
                document.getElementById(sensorId + '_red_badge').style.visibility = 'visible';
                break;
            default:
                alert("Sensor " + sensorId + " Should NOT Be Sending A Status Of: " + sensorStatus);
        }
    }
                
    function state_Change()
    {
        if (xmlhttp.readyState==4)
        {// 4 = "loaded"
            responseJSON = eval(xmlhttp.responseText);
            alert(responseJSON);
            //badgeStatus(sensor.id, sensor.status);
        }
    }            
</script>
        
</svg>
